import{E as o,i as G,S as h,d as N,B as L,r as y,g as H,M as T,a as U,C as P,e as u,b as Q,c as Z,f as $,D as J}from"./dropdown.a20fdd29.js";import{m as D,a as F}from"./index.4ddbd4b3.js";const K=(a,t="hide")=>{const e=`click.dismiss${a.EVENT_KEY}`,s=a.NAME;o.on(document,e,`[data-bs-dismiss="${s}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),G(this))return;const n=h.getElementFromSelector(this)||this.closest(`.${s}`);a.getOrCreateInstance(n)[t]()})},X="alert",tt="bs.alert",Y=`.${tt}`,et=`close${Y}`,st=`closed${Y}`,it="fade",nt="show";class w extends L{static get NAME(){return X}close(){if(o.trigger(this._element,et).defaultPrevented)return;this._element.classList.remove(nt);const e=this._element.classList.contains(it);this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),o.trigger(this._element,st),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=w.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}K(w,"close");N(w);const ot="collapse",at="bs.collapse",g=`.${at}`,lt=".data-api",rt=`show${g}`,ht=`shown${g}`,ct=`hide${g}`,dt=`hidden${g}`,_t=`click${g}${lt}`,C="show",d="collapse",p="collapsing",ut="collapsed",mt=`:scope .${d} .${d}`,gt="collapse-horizontal",ft="width",pt="height",Et=".collapse.show, .collapse.collapsing",v='[data-bs-toggle="collapse"]',At={parent:null,toggle:!0},bt={parent:"(null|element)",toggle:"boolean"};class m extends L{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const s=h.find(v);for(const i of s){const n=h.getSelectorFromElement(i),l=h.find(n).filter(r=>r===this._element);n!==null&&l.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return At}static get DefaultType(){return bt}static get NAME(){return ot}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(Et).filter(r=>r!==this._element).map(r=>m.getOrCreateInstance(r,{toggle:!1}))),t.length&&t[0]._isTransitioning||o.trigger(this._element,rt).defaultPrevented)return;for(const r of t)r.hide();const s=this._getDimension();this._element.classList.remove(d),this._element.classList.add(p),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(p),this._element.classList.add(d,C),this._element.style[s]="",o.trigger(this._element,ht)},l=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[s]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||o.trigger(this._element,ct).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,y(this._element),this._element.classList.add(p),this._element.classList.remove(d,C);for(const i of this._triggerArray){const n=h.getElementFromSelector(i);n&&!this._isShown(n)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(p),this._element.classList.add(d),o.trigger(this._element,dt)};this._element.style[e]="",this._queueCallback(s,this._element,!0)}_isShown(t=this._element){return t.classList.contains(C)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=H(t.parent),t}_getDimension(){return this._element.classList.contains(gt)?ft:pt}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(v);for(const e of t){const s=h.getElementFromSelector(e);s&&this._addAriaAndCollapsedClass([e],this._isShown(s))}}_getFirstLevelChildren(t){const e=h.find(mt,this._config.parent);return h.find(t,this._config.parent).filter(s=>!e.includes(s))}_addAriaAndCollapsedClass(t,e){if(!!t.length)for(const s of t)s.classList.toggle(ut,!e),s.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return typeof t=="string"&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const s=m.getOrCreateInstance(this,e);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t]()}})}}o.on(document,_t,v,function(a){(a.target.tagName==="A"||a.delegateTarget&&a.delegateTarget.tagName==="A")&&a.preventDefault();for(const t of h.getMultipleElementsFromSelector(this))m.getOrCreateInstance(t,{toggle:!1}).toggle()});N(m);const I=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",O=".sticky-top",E="padding-right",k="margin-right";class wt{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,E,e=>e+t),this._setElementAttributes(I,E,e=>e+t),this._setElementAttributes(O,k,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,E),this._resetElementAttributes(I,E),this._resetElementAttributes(O,k)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,s){const i=this.getWidth(),n=l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+i)return;this._saveInitialAttribute(l,e);const r=window.getComputedStyle(l).getPropertyValue(e);l.style.setProperty(e,`${s(Number.parseFloat(r))}px`)};this._applyManipulationCallback(t,n)}_saveInitialAttribute(t,e){const s=t.style.getPropertyValue(e);s&&T.setDataAttribute(t,e,s)}_resetElementAttributes(t,e){const s=i=>{const n=T.getDataAttribute(i,e);if(n===null){i.style.removeProperty(e);return}T.removeDataAttribute(i,e),i.style.setProperty(e,n)};this._applyManipulationCallback(t,s)}_applyManipulationCallback(t,e){if(U(t)){e(t);return}for(const s of h.find(t,this._element))e(s)}}const j="backdrop",Tt="fade",M="show",V=`mousedown.bs.${j}`,Ct={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},St={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class vt extends P{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Ct}static get DefaultType(){return St}static get NAME(){return j}show(t){if(!this._config.isVisible){u(t);return}this._append();const e=this._getElement();this._config.isAnimated&&y(e),e.classList.add(M),this._emulateAnimation(()=>{u(t)})}hide(t){if(!this._config.isVisible){u(t);return}this._getElement().classList.remove(M),this._emulateAnimation(()=>{this.dispose(),u(t)})}dispose(){!this._isAppended||(o.off(this._element,V),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(Tt),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=H(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),o.on(t,V,()=>{u(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){Q(t,this._getElement(),this._config.isAnimated)}}const Nt="focustrap",Lt="bs.focustrap",b=`.${Lt}`,yt=`focusin${b}`,Dt=`keydown.tab${b}`,$t="Tab",It="forward",x="backward",Ot={autofocus:!0,trapElement:null},kt={autofocus:"boolean",trapElement:"element"};class Mt extends P{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ot}static get DefaultType(){return kt}static get NAME(){return Nt}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),o.off(document,b),o.on(document,yt,t=>this._handleFocusin(t)),o.on(document,Dt,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,o.off(document,b))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const s=h.focusableChildren(e);s.length===0?e.focus():this._lastTabNavDirection===x?s[s.length-1].focus():s[0].focus()}_handleKeydown(t){t.key===$t&&(this._lastTabNavDirection=t.shiftKey?x:It)}}const Vt="modal",xt="bs.modal",c=`.${xt}`,Rt=".data-api",Bt="Escape",Wt=`hide${c}`,Ht=`hidePrevented${c}`,z=`hidden${c}`,q=`show${c}`,Pt=`shown${c}`,Ft=`resize${c}`,Kt=`click.dismiss${c}`,Yt=`mousedown.dismiss${c}`,jt=`keydown.dismiss${c}`,zt=`click${c}${Rt}`,R="modal-open",qt="fade",B="show",S="modal-static",Gt=".modal.show",Ut=".modal-dialog",Qt=".modal-body",Zt='[data-bs-toggle="modal"]',Jt={backdrop:!0,focus:!0,keyboard:!0},Xt={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class _ extends L{constructor(t,e){super(t,e),this._dialog=h.findOne(Ut,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new wt,this._addEventListeners()}static get Default(){return Jt}static get DefaultType(){return Xt}static get NAME(){return Vt}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||o.trigger(this._element,q,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(R),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||o.trigger(this._element,Wt).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(B),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const t of[window,this._dialog])o.off(t,c);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new vt({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Mt({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=h.findOne(Qt,this._dialog);e&&(e.scrollTop=0),y(this._element),this._element.classList.add(B);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,o.trigger(this._element,Pt,{relatedTarget:t})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){o.on(this._element,jt,t=>{if(t.key===Bt){if(this._config.keyboard){t.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),o.on(window,Ft,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),o.on(this._element,Yt,t=>{o.one(this._element,Kt,e=>{if(!(this._element!==t.target||this._element!==e.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(R),this._resetAdjustments(),this._scrollBar.reset(),o.trigger(this._element,z)})}_isAnimated(){return this._element.classList.contains(qt)}_triggerBackdropTransition(){if(o.trigger(this._element,Ht).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(S)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(S),this._queueCallback(()=>{this._element.classList.remove(S),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),s=e>0;if(s&&!t){const i=$()?"paddingLeft":"paddingRight";this._element.style[i]=`${e}px`}if(!s&&t){const i=$()?"paddingRight":"paddingLeft";this._element.style[i]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const s=_.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t](e)}})}}o.on(document,zt,Zt,function(a){const t=h.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&a.preventDefault(),o.one(t,q,i=>{i.defaultPrevented||o.one(t,z,()=>{Z(this)&&this.focus()})});const e=h.findOne(Gt);e&&_.getInstance(e).hide(),_.getOrCreateInstance(t).toggle(this)});K(_);N(_);const te={threshold:2,maximumItems:5,highlightTyped:!0,highlightClass:"text-primary",label:"label",value:"value",showValue:!1,showValueBeforeLabel:!1};class ee{constructor(t,e){this.field=t,this.options=Object.assign({},te,e),this.dropdown=null,t.parentNode.classList.add("dropdown"),t.setAttribute("data-bs-toggle","dropdown"),t.classList.add("dropdown-toggle");const s=W('<div class="dropdown-menu"></div>');this.options.dropdownClass&&s.classList.add(this.options.dropdownClass),se(s,t),this.dropdown=new J(t,this.options.dropdownOptions),t.addEventListener("click",i=>{this.createItems()===0&&(i.stopPropagation(),this.dropdown.hide())}),t.addEventListener("input",()=>{this.options.onInput&&this.options.onInput(this.field.value),this.renderIfNeeded()}),t.addEventListener("keydown",i=>{var n;if(i.keyCode===27){this.dropdown.hide();return}if(i.keyCode===40){(n=this.dropdown._menu.children[0])==null||n.focus();return}})}setData(t){this.options.data=t,this.renderIfNeeded()}renderIfNeeded(){this.createItems()>0?this.dropdown.show():this.field.click()}createItem(t,e){console.log(e);let s;if(this.options.highlightTyped){const i=A(e.label).toLowerCase().indexOf(A(t).toLowerCase()),n=Array.isArray(this.options.highlightClass)?this.options.highlightClass.join(" "):typeof this.options.highlightClass=="string"?this.options.highlightClass:"";s=e.label.substring(0,i)+`<span class="${n}">${e.label.substring(i,i+t.length)}</span>`+e.label.substring(i+t.length,e.label.length)}else s=e.label;return this.options.showValue&&(this.options.showValueBeforeLabel?s=`${e.value} ${s}`:s+=` ${e.value}`),W(`<button type="button" class="dropdown-item" data-label="${e.label}" data-value="${e.value}">${s}<br><span class="text-muted small">${e.tag}</span></button>`)}createItems(){const t=this.field.value;if(t.length<this.options.threshold)return this.dropdown.hide(),0;const e=this.field.nextSibling;e.innerHTML="";const s=Object.keys(this.options.data);let i=0;for(let n=0;n<s.length;n++){const l=s[n],r=this.options.data[l];console.log(r);const f={label:this.options.label?r[this.options.label]:l,value:this.options.value?r[this.options.value]:r,tag:r.tag};if(A(f.label).toLowerCase().indexOf(A(t).toLowerCase())>=0&&(e.appendChild(this.createItem(t,f)),this.options.maximumItems>0&&++i>=this.options.maximumItems))break}return this.field.nextSibling.querySelectorAll(".dropdown-item").forEach(n=>{n.addEventListener("click",l=>{let r=l.currentTarget.getAttribute("data-label"),f=l.currentTarget.getAttribute("data-value");this.field.value=r,this.options.onSelectItem&&this.options.onSelectItem({value:f,label:r}),this.dropdown.hide()})}),e.childNodes.length}}function W(a){let t=document.createElement("div");return t.innerHTML=a,t.firstChild}function se(a,t){return t.parentNode.insertBefore(a,t.nextSibling)}function A(a){return a.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}window.Alpine=D;window.axios=F;document.addEventListener("alpine:init",()=>{D.data("autocomplete",()=>({searchQuery:"",searchInstances:[],init(){document.querySelectorAll("input[data-search]").forEach(t=>{const e=new ee(t,{data:[],maximumItems:5,onSelectItem:({label:s,value:i})=>{window.open(i,"_self")},highlightClass:""});this.searchInstances.push(e)})},getAutocomplete(){const a=this.$refs.base.dataset.base;F({method:"GET",url:a,params:{q:this.searchQuery}}).then(t=>{const e=t.data;if(t.status=="200"&&e.success==!0){const i=e.results,n=[];i.forEach(l=>{n.push({label:l.name,value:l.route,tag:l.tag})}),this.searchInstances.forEach(l=>{l.setData(n)})}})}}))});D.start();
